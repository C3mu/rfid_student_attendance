 <!DOCTYPE HTML> 
 <html> 
 <head> 
 <meta http - equiv = 'Content-Type' content = 'text / html; charset = utf-8'> 
 <TITLE> STUDENT ATTENDANCE </TITLE> 
 <link href = "style.css" rel = "stylesheet"> 
 <link rel="shortcut icon" href="icon.png"/>
 <script> 
 var atypical = true;
 var s=1;
 var to;
 function changeatypical(apc){
	atypical = apc;
 }
 function deepsend() {
	document.getElementById("statup").innerHTML = "sending..."; 
								 	  console.log("sending...");
	var data1 = document.getElementById('name').value;
    var data2 = document.getElementById('course').value;
    var data3 = document.getElementById('phone').value;
	var datalength = data1.length + data2.length + data3.length;
	if(datalength >= 46){
		document.getElementById("statup").innerHTML = "data longer than 45"; 
		alert("DATA long " + datalength + "> 45");
		return;
	}
	if(data1 == ""){
	document.getElementById("statup").innerHTML = "No name data"; 
	return;
	}
	if(data2 == ""){
	document.getElementById("statup").innerHTML = "No course data"; 
	return;
	}
	if(data3 == ""){
	document.getElementById("statup").innerHTML = "No phone data"; 
	return;
	}
	if(isNaN(data3)){
	document.getElementById("statup").innerHTML = "phone data must a number"; 
	return;
	}
to = setTimeout(function(){ document.getElementById("statup").innerHTML = "TimeOut!";},60000); 
var se = "WrItEdAtAtycrd="+atypical+"&Data:"+data1+"+"+data2+"-"+data3+"&&&END";
senddata(se);
 }; 
function senddata(data){
if (data != "PULL"){
document.getElementById("statup").innerHTML ="\""+ data + "\" send..."; 
}
 var xhttp = new XMLHttpRequest(); 
 xhttp.onreadystatechange = function() {
 if (this.readyState == 4 && this.status == 204){ 
	document.getElementById("statup").innerHTML = this.getResponseHeader("Statup");
	clearTimeout(to);
	to = setTimeout(function(){ document.getElementById("statup").innerHTML = "TimeOut!";},55000);
	senddata("PULL");
 }
 if (this.readyState == 4 && this.status == 200) { 
	document.getElementById("statup").innerHTML = this.getResponseHeader("Statup");
	clearTimeout(to);
 }
}
 xhttp.open("GET","/writepg="+data,true); 
 xhttp.send(); 
};

 </script>
 </head> 
 <body> 
 <div> 
 <p> 
 <br/> STUDENT ATTENDANCE <br/><br/> 
 </p>
 <HR/>  
 <a href='/home'> HOME </a>  
 <a href='/write'  class = 'hightlight'> WRITE </a>  
 <a href='/setup' > SETUP </a>  
 <HR/> 
  <h4 style = "color: blue">
  Startup: 
	<h5 id="statup">Nowmal</h5>
  </h4>
  <HR/> 
  <h3>
  One card write <br/>
  </h3>
  <form>
  <table border="1px">
    <tr>
        <td>NAME:</td>
        <td>
            <input type="text" name="name" id="name"/>
        </td>
    </tr>
    <tr>
        <td>COURSE:</td>
        <td>
            <input type="text" name="course" id="course"/>
        </td>
    </tr>
    <tr>
        <td>PHONE:</td>
        <td>
            <input type="tel" name="phone" id="phone"/>
        </td>
    </tr>
</table></br>
<input type="button" name="submit" value= " WRITE ! " onclick="deepsend()" />
<input type="button"  value=" CANCLE " onclick="senddata('Cancle')" />
<input type="reset">
</form>

 </br>
 <HR/>
   <h3> Much card write </h3> 
   <h6>+ change the "WRITE.TXT" file in micro sd card to auto write RFID card </br>
    <!--  + or upload your file to WRITE -->
	</h6>
 <!--  <form method="post" action="UpLoadFiLe">
  <input type="file" name="WriteData" accept=".txt">
  <button> OK </button>
   </form></br>-->
   <input type="button" name="submit" value=" FULLL WRITE " onclick="senddata('StarWriteHangLoattycrd='+atypical)" />
   <input type="button" name="submit" value=" SKIP THIS CARD " onclick="senddata('SkipThisCard')" />
   <input type="button" name="submit" value=" CANCLE " onclick="senddata('Cancle')" />
   </br></br>
 <HR/> 
 <h5>
EXTEND:
    <form>
  + ATYPICAL CARD:</br>
  <input type="radio" name="gender" onclick="changeatypical(true)" checked>NEWCARD<br>
  <input type="radio" name="gender" onclick="changeatypical(false)">OLDCARD<br>
  </form>
  </h5>
  <HR/> 
 <p class = 'end'> 
 <br/> 
 &emsp;All design & code by Cemu<br/> 
 &emsp;Copyright 2017-Infinity 
 <br/><br/> 
 </p> 
 </div> 
 </body> 
 </html>